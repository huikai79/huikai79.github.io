<!-- ★ My custom single.html is used ★ -->

{{ define "main" }}
<article class="prose dark:prose-invert mx-auto">

  {{/* 封面 */}}
  {{ with .Params.cover }}
    <figure class="mb-6">
      <img src="{{ . | relURL }}" alt="{{ $.Title }}" class="w-full rounded-xl" loading="lazy" />
    </figure>
  {{ end }}

  {{/* 标题 + Icon */}}
  <h1 class="flex items-center gap-2">
    {{ with .Params.icon }}
      {{ if hasPrefix . "images/" }}
        <img src="{{ . | relURL }}" class="w-8 h-8" alt="icon" loading="lazy" />
      {{ else }}
        <span class="text-3xl">{{ . }}</span>
      {{ end }}
    {{ end }}
    {{ .Title }}
  </h1>

  <p class="text-sm opacity-70 mb-8">
    {{ .Date.Format "02 January 2006" }} · {{ .ReadingTime }} min
  </p>

  {{ .Content | safeHTML }}
</article>

{{/* -------- 上一篇 / 下一篇 -------- */}}
{{ if or (.Site.Params.article.showPagination) (not (isset .Site.Params.article "showPagination")) }}
  {{ partial "article/pagination.html" . }}
{{ end }}

{{/* -------- 作者卡片 -------- */}}
{{ if or (.Site.Params.article.showAuthor) (not (isset .Site.Params.article "showAuthor")) }}
  {{ partial "author.html" . }}
{{ end }}

{{/* -------- 相关文章 -------- */}}
{{ if or (.Site.Params.article.showRelated) (not (isset .Site.Params.article "showRelated")) }}
  {{ partial "related.html" . }}
{{ end }}

{{ end }}
