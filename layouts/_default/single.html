{{ define "main" }}

{{ with .Resources.GetMatch "cover*" }}
  {{ $src := .Fill "1920x1080 center" }}
  <div class="post-hero">
    <img src="{{ $src.RelPermalink }}" alt="{{ $.Title }}" class="post-cover" loading="lazy">
  </div>
{{ end }}

<article class="prose dark:prose-invert mx-auto mt-8">
  <h1 class="flex items-center gap-2">
    {{ with .Params.icon }}
      {{ if hasPrefix . "images/" }}
        <img src="{{ . | relURL }}" class="w-8 h-8" alt="icon" loading="lazy">
      {{ else }}
        <span class="text-3xl">{{ . }}</span>
      {{ end }}
    {{ end }}
    {{ .Title }}
  </h1>

  <p class="text-sm opacity-70 mb-8">
    {{ .Date.Format "02 January 2006" }} · {{ .ReadingTime }} min
  </p>

  {{ .Content }}
</article>

{{ partial "article/author.html" . }}
{{ partial "article/pagination.html" . }}
{{ partial "article/related.html" . }}


<!-- Back to Top Button -->
<a href="#top" class="scroll-to-top" aria-label="Back to Top">
  <svg width="20" height="20" fill="white" viewBox="0 0 24 24">
    <path d="M12 4l-8 8h5v8h6v-8h5z"/>
  </svg>
</a>

{{ end }}
